{"filter":false,"title":"server-v2.js","tooltip":"/server-v2.js","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":0,"column":0},"end":{"row":58,"column":21},"action":"insert","lines":["'use strict';","","const express = require('express');","const path = require('path');","const favicon = require('serve-favicon');","const logger = require('morgan');","const kue = require('kue');","const cookieParser = require('cookie-parser');","const bodyParser = require('body-parser');","","const payments = require('./routes/payments');","","const app = express();","","","// uncomment after placing your favicon in /public","//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));","app.use(logger('dev'));","app.use(bodyParser.json());","app.use(bodyParser.urlencoded({ extended: false }));","app.use(cookieParser());","app.use(express.static(path.join(__dirname, 'public')));","","app.use('/queue', kue.app);","app.use('/payments', payments);","","// catch 404 and forward to error handler","app.use((req, res, next) => {","  let err = new Error('Not Found');","  err.status = 404;","  next(err);","});","","// error handlers","","// development error handler","// will print stacktrace","if (app.get('env') === 'development') {","  app.use((err, req, res, next) => {","    res.status(err.status || 500);","    res.json({","      message: err.message,","      error: err","    });","  });","}","","// production error handler","// no stacktraces leaked to user","app.use((err, req, res, next) => {","  res.status(err.status || 500);","  res.json({","    message: err.message,","    error: {}","  });","});","","","module.exports = app;"],"id":1}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":41},"action":"remove","lines":["const favicon = require('serve-favicon');"],"id":2}],[{"start":{"row":3,"column":29},"end":{"row":4,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":33},"action":"remove","lines":["const logger = require('morgan');"],"id":4}],[{"start":{"row":3,"column":29},"end":{"row":4,"column":0},"action":"remove","lines":["",""],"id":5}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":23},"action":"remove","lines":["app.use(logger('dev'));"],"id":6},{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":["/"]}],[{"start":{"row":15,"column":1},"end":{"row":15,"column":2},"action":"insert","lines":["/"],"id":7}],[{"start":{"row":18,"column":0},"end":{"row":18,"column":24},"action":"remove","lines":["app.use(cookieParser());"],"id":8}],[{"start":{"row":17,"column":52},"end":{"row":18,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":46},"action":"remove","lines":["const cookieParser = require('cookie-parser');"],"id":10}],[{"start":{"row":4,"column":27},"end":{"row":5,"column":0},"action":"remove","lines":["",""],"id":11}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":43},"action":"remove","lines":["outes/payments"],"id":12}],[{"start":{"row":7,"column":28},"end":{"row":7,"column":29},"action":"remove","lines":["r"],"id":13}],[{"start":{"row":7,"column":28},"end":{"row":7,"column":29},"action":"insert","lines":["r"],"id":14}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":30},"action":"insert","lines":["o"],"id":15}],[{"start":{"row":7,"column":30},"end":{"row":7,"column":31},"action":"insert","lines":["u"],"id":16}],[{"start":{"row":7,"column":31},"end":{"row":7,"column":32},"action":"insert","lines":["t"],"id":17}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"insert","lines":["e"],"id":18}],[{"start":{"row":7,"column":33},"end":{"row":7,"column":34},"action":"insert","lines":["-"],"id":19}],[{"start":{"row":7,"column":34},"end":{"row":7,"column":35},"action":"insert","lines":["m"],"id":20}],[{"start":{"row":7,"column":35},"end":{"row":7,"column":36},"action":"insert","lines":["o"],"id":21}],[{"start":{"row":7,"column":36},"end":{"row":7,"column":37},"action":"insert","lines":["d"],"id":22}],[{"start":{"row":7,"column":37},"end":{"row":7,"column":38},"action":"insert","lines":["u"],"id":23}],[{"start":{"row":7,"column":38},"end":{"row":7,"column":39},"action":"insert","lines":["l"],"id":24}],[{"start":{"row":7,"column":39},"end":{"row":7,"column":40},"action":"insert","lines":["e"],"id":25}]]},"ace":{"folds":[],"scrolltop":507.6000061035156,"scrollleft":0,"selection":{"start":{"row":54,"column":21},"end":{"row":54,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":34,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1511034370775,"hash":"36d16a9379cd66b96549a2f8a1380707a8d9ba13"}